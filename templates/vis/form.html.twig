{% extends '@Vis/base.html.twig' %}

{% block javascripts %}
    {{ include('@DDM/form/header.html.twig', {
        asset: [
            'twbs/bootstrap/dist/js/bootstrap.bundle.min.js',
            'avalynx/avalynx-form/dist/js/avalynx-form.js',
            'avalynx/avalynx-select/dist/js/avalynx-select.js'
        ]}) }}

    {{ parent() }}
{% endblock %}

{% block stylesheets %}
    {{ include('@DDM/form/header.html.twig', {
        asset: [
            'twbs/bootstrap/dist/css/bootstrap.min.css'
        ]}) }}

    {{ parent() }}
{% endblock %}


{% block body %}
    {{ parent() }}

    {% set form_api_url = form_api_url|default(ddm.route('form_api') ? path(ddm.route('form_api'), {id: id|default(null)}) : '#') %}
    {{ include('@DDM/form/default.html.twig', {
        ddm: ddm,
        fields: fields,
        options: options|default({})|merge({
            title: title|default(ddm.title|default('DDM Demo Formular')),
            action: options.form_options.apiUrl|default(form_api_url),
            submitLabel: options.form_options.submitLabel|default('formular.demo.submit'|vistrans([], 'vis_demo'))
        })
    }) }}
{% endblock %}
